# Church Web Administration - API (Backend)

This directory contains the backend API for the Church Web Administration project, built using NestJS. It provides the core logic and data management for the application.

## Overview

This NestJS application serves as the backend for managing various aspects of the church's online presence. It exposes a RESTful API that the frontend (`web` directory) consumes to display and interact with data.

## Key Features

- **Member Management:** API endpoints for managing church member profiles, contact information, and other relevant details.
- **Event Management:** Functionality to create, update, and retrieve event information, including dates, times, locations, and descriptions.
- **Donation Management:** Securely handle donations and manage giving records.
- **Sermon/Media Library:** Store and serve audio/video sermons and other media content.
- **News/Blog:** API endpoints for managing news articles and blog posts.
- **User Authentication:** Secure user authentication and authorization to protect sensitive data.
- **Database Integration:** Utilizes a database (e.g., PostgreSQL, MySQL) for persistent data storage.
- **Data Validation:** Ensures data integrity through robust validation mechanisms.

## API Routes

The API exposes the following endpoints:

### Authentication

- `POST /auth/login` - User login
- `POST /auth/register` - User registration

### Lives Management

- `GET /lives` - Get all live links
- `GET /lives/:id` - Get a specific live link by ID
- `PUT /lives/:id` - Update an existing live link

### Root

- `GET /` - Health check endpoint

## API Response Format

### Success Response

All successful responses are wrapped in a `data` field:

```json
{
  "data": {
    // response data here
  }
}
```

### Error Response

All error responses are wrapped in an `error` field with appropriate HTTP status codes:

```json
{
  "error": {
    "message": "Error message here"
  }
}
```

Common HTTP Status Codes:

- `200` - Success
- `400` - Bad Request
- `401` - Unauthorized
- `404` - Not Found
- `500` - Internal Server Error

## Technologies

- NestJS: A progressive Node.js framework for building efficient and scalable server-side applications.
- TypeScript: A typed superset of JavaScript.
- TypeORM (Likely): An ORM for database interaction.
- Passport (Likely): For authentication.
- JWT (Likely): For token-based authentication.

## Getting Started

1.  **Installation:**

    ```bash
    $ npm install
    ```

2.  **Environment Variables:**

    - Create a `.env` file in the root of the `api` directory.
    - Define necessary environment variables (e.g., database connection details, JWT secret).

3.  **Database Setup:**

    - Create the database specified in your `.env` file.
    - Run database migrations (if using TypeORM).

4.  **Running the API:**

    ```bash
    # Development mode (with hot-reloading)
    $ npm run start:dev

    # Production mode
    $ npm run start:prod
    ```

## API Documentation

- API documentation will be generated by swagger or other tools.

## Contributing

Contributions to the API are welcome! Please see the `CONTRIBUTING.md` file for guidelines.

## License

MIT
